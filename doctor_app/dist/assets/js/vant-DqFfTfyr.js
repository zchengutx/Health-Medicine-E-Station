import{o as e,a as t,i as n,w as o,b as l,n as a,c as s,u as r,r as i,d as c,g as u,e as d,f as p,p as f,h as v,j as m,k as g,m as y,l as h,T as b,q as w,s as C,v as B,F as x,t as k,x as S}from"./vue-Djwh67vz.js";function O(){}const z=Object.assign,T="undefined"!=typeof window,P=e=>null!==e&&"object"==typeof e,A=e=>null!=e,I=e=>"function"==typeof e,$=e=>"number"==typeof e||/^\d+(\.\d+)?$/.test(e);function E(e,t){const n=t.split(".");let o=e;return n.forEach(e=>{var t;o=P(o)&&null!=(t=o[e])?t:""}),o}function L(e,t,n){return t.reduce((t,n)=>(t[n]=e[n],t),{})}const j=null,N=[Number,String],D={type:Boolean,default:!0},H=e=>({type:String,default:e});var R="undefined"!=typeof window,Y=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),M=e=>{const t=r(e);if(t===window){const e=t.innerWidth,n=t.innerHeight;return Y(e,n)}return(null==t?void 0:t.getBoundingClientRect)?t.getBoundingClientRect():Y(0,0)};var X,U,q=(e,t)=>{const n=e.indexOf(t);return-1===n?e.findIndex(e=>void 0!==t.key&&null!==t.key&&e.type===t.type&&e.key===t.key):n};function F(e,t,n){const o=function(e){const t=[],n=e=>{Array.isArray(e)&&e.forEach(e=>{var o;v(e)&&(t.push(e),(null==(o=e.component)?void 0:o.subTree)&&(t.push(e.component.subTree),n(e.component.subTree.children)),e.children&&n(e.children))})};return n(e),t}(e.subTree.children);n.sort((e,t)=>q(o,e.vnode)-q(o,t.vnode));const l=n.map(e=>e.proxy);t.sort((e,t)=>l.indexOf(e)-l.indexOf(t))}function W(e){let t;l(()=>{e(),a(()=>{t=!0})}),s(()=>{t&&e()})}function K(l,a,s={}){if(!R)return;const{target:i=window,passive:c=!1,capture:u=!1}=s;let d,p=!1;const f=e=>{if(p)return;const t=r(e);t&&!d&&(t.addEventListener(l,a,{capture:u,passive:c}),d=!0)},v=e=>{if(p)return;const t=r(e);t&&d&&(t.removeEventListener(l,a,u),d=!1)};let m;return e(()=>v(i)),t(()=>v(i)),W(()=>f(i)),n(i)&&(m=o(i,(e,t)=>{v(t),f(e)})),()=>{null==m||m(),v(i),p=!0}}var V=/scroll|auto|overlay/i,Z=R?window:void 0;function _(e){return"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType}T&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());function G(e,t){("boolean"!=typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&(e=>{e.stopPropagation()})(e)}const{width:J,height:Q}=function(){if(!X&&(X=i(0),U=i(0),R)){const e=()=>{X.value=window.innerWidth,U.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:X,height:U}}();function ee(e){if(A(e))return $(e)?`${e}px`:String(e)}const te=/-(\w)/g,ne=e=>e.replace(te,(e,t)=>t.toUpperCase()),{hasOwnProperty:oe}=Object.prototype;function le(e,t){return Object.keys(t).forEach(n=>{!function(e,t,n){const o=t[n];A(o)&&(oe.call(e,n)&&P(o)?e[n]=le(Object(e[n]),o):e[n]=o)}(e,t,n)}),e}const ae=i("zh-CN"),se=p({"zh-CN":{name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}}});var re={messages:()=>se[ae.value],use(e,t){ae.value=e,this.add({[e]:t})},add(e={}){le(se,e)}};function ie(e){const t=ne(e)+".";return(e,...n)=>{const o=re.messages(),l=E(o,t+e)||E(o,e);return I(l)?l(...n):l}}function ce(e,t){return t?"string"==typeof t?` ${e}--${t}`:Array.isArray(t)?t.reduce((t,n)=>t+ce(e,n),""):Object.keys(t).reduce((n,o)=>n+(t[o]?ce(e,o):""),""):""}function ue(e){return(t,n)=>(t&&"string"!=typeof t&&(n=t,t=""),`${t=t?`${e}__${t}`:e}${ce(t,n)}`)}function de(e){const t=`van-${e}`;return[t,ue(t),ie(t)]}const pe="van-hairline",fe=`${pe}--top`,ve=`${pe}--left`,me=`${pe}--surround`;function ge(e,{args:t=[],done:n,canceled:o,error:l}){if(e){const s=e.apply(null,t);P(a=s)&&I(a.then)&&I(a.catch)?s.then(e=>{e?n():o&&o()}).catch(l||O):s?n():o&&o()}else n();var a}function ye(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(ne(`-${n}`),e))},e}const he=Symbol();const be=(e,t)=>{const n=i(),s=()=>{n.value=M(e).height};return l(()=>{a(s);for(let e=1;e<=3;e++)setTimeout(s,100*e)}),function(e){const t=c(he,null);t&&o(t,t=>{t&&e()})}(()=>a(s)),o([J,Q],s),n};const[we,Ce]=de("action-bar"),Be=Symbol(we);const xe=ye(g({name:we,props:{placeholder:Boolean,safeAreaInsetBottom:D},setup(e,{slots:t}){const n=i(),o=function(e,t){const n=be(e);return e=>m("div",{class:t("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[e()])}(n,Ce),{linkChildren:l}=function(e){const t=p([]),n=p([]),o=u();return{children:t,linkChildren:l=>{f(e,Object.assign({link:e=>{e.proxy&&(n.push(e),t.push(e.proxy),F(o,t,n))},unlink:e=>{const o=n.indexOf(e);t.splice(o,1),n.splice(o,1)},children:t,internalChildren:n},l))}}}(Be);l();const a=()=>{var o;return m("div",{ref:n,class:[Ce(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[null==(o=t.default)?void 0:o.call(t)])};return()=>e.placeholder?o(a):a()}}));function ke(e){const t=u();t&&z(t.proxy,e)}const Se={to:[String,Object],url:String,replace:Boolean};function Oe(){const e=u().proxy;return()=>function({to:e,url:t,replace:n,$router:o}){e&&o?o[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}(e)}const[ze,Te]=de("badge");const Pe=ye(g({name:ze,props:{dot:Boolean,max:N,tag:H("div"),color:String,offset:Array,content:N,showZero:D,position:H("top-right")},setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:n,showZero:o}=e;return A(n)&&""!==n&&(o||0!==n&&"0"!==n)},o=()=>{const{dot:o,max:l,content:a}=e;if(!o&&n())return t.content?t.content():A(l)&&$(a)&&+a>+l?`${l}+`:a},l=e=>e.startsWith("-")?e.replace("-",""):`-${e}`,a=d(()=>{const n={background:e.color};if(e.offset){const[o,a]=e.offset,{position:s}=e,[r,i]=s.split("-");t.default?(n[r]="number"==typeof a?ee("top"===r?a:-a):"top"===r?ee(a):l(a),n[i]="number"==typeof o?ee("left"===i?o:-o):"left"===i?ee(o):l(o)):(n.marginTop=ee(a),n.marginLeft=ee(o))}return n}),s=()=>{if(n()||e.dot)return m("div",{class:Te([e.position,{dot:e.dot,fixed:!!t.default}]),style:a.value},[o()])};return()=>{if(t.default){const{tag:n}=e;return m(n,{class:Te("wrapper")},{default:()=>[t.default(),s()]})}return s()}}}));let Ae=2e3;const[Ie,$e]=de("config-provider"),Ee=Symbol(Ie),[Le,je]=de("icon");const Ne=ye(g({name:Le,props:{dot:Boolean,tag:H("i"),name:String,size:N,badge:N,color:String,badgeProps:Object,classPrefix:String},setup(e,{slots:t}){const n=c(Ee,null),o=d(()=>e.classPrefix||(null==n?void 0:n.iconPrefix)||je());return()=>{const{tag:n,dot:l,name:a,size:s,badge:r,color:i}=e,c=(e=>null==e?void 0:e.includes("/"))(a);return m(Pe,y({dot:l,tag:n,class:[o.value,c?"":`${o.value}-${a}`],style:{color:i,fontSize:ee(s)},content:r},e.badgeProps),{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t),c&&m("img",{class:je("image"),src:a},null)]}})}}})),[De,He]=de("loading"),Re=Array(12).fill(null).map((e,t)=>m("i",{class:He("line",String(t+1))},null)),Ye=m("svg",{class:He("circular"),viewBox:"25 25 50 50"},[m("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]);const Me=ye(g({name:De,props:{size:N,type:H("circular"),color:String,vertical:Boolean,textSize:N,textColor:String},setup(e,{slots:t}){const n=d(()=>z({color:e.color},function(e){if(A(e)){if(Array.isArray(e))return{width:ee(e[0]),height:ee(e[1])};const t=ee(e);return{width:t,height:t}}}(e.size))),o=()=>{const o="spinner"===e.type?Re:Ye;return m("span",{class:He("spinner",e.type),style:n.value},[t.icon?t.icon():o])},l=()=>{var n;if(t.default)return m("span",{class:He("text"),style:{fontSize:ee(e.textSize),color:null!=(n=e.textColor)?n:e.color}},[t.default()])};return()=>{const{type:t,vertical:n}=e;return m("div",{class:He([t,{vertical:n}]),"aria-live":"polite","aria-busy":!0},[o(),l()])}}})),[Xe,Ue]=de("button");const qe=ye(g({name:Xe,props:z({},Se,{tag:H("button"),text:String,icon:String,type:H("default"),size:H("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:H("button"),loadingSize:N,loadingText:String,loadingType:String,iconPosition:H("left")}),emits:["click"],setup(e,{emit:t,slots:n}){const o=Oe(),l=()=>e.loading?n.loading?n.loading():m(Me,{size:e.loadingSize,type:e.loadingType,class:Ue("loading")},null):n.icon?m("div",{class:Ue("icon")},[n.icon()]):e.icon?m(Ne,{name:e.icon,class:Ue("icon"),classPrefix:e.iconPrefix},null):void 0,a=()=>{let t;if(t=e.loading?e.loadingText:n.default?n.default():e.text,t)return m("span",{class:Ue("text")},[t])},s=()=>{const{color:t,plain:n}=e;if(t){const e={color:n?t:"white"};return n||(e.background=t),t.includes("gradient")?e.border=0:e.borderColor=t,e}},r=n=>{e.loading?G(n):e.disabled||(t("click",n),o())};return()=>{const{tag:t,type:n,size:o,block:i,round:c,plain:u,square:d,loading:p,disabled:f,hairline:v,nativeType:g,iconPosition:y}=e,h=[Ue([n,o,{plain:u,block:i,round:c,square:d,loading:p,disabled:f,hairline:v}]),{[me]:v}];return m(t,{type:g,class:h,style:s(),disabled:f,onClick:r},{default:()=>[m("div",{class:Ue("content")},["left"===y&&l(),a(),"right"===y&&l()])]})}}})),[Fe,We]=de("action-bar-button");const Ke=ye(g({name:Fe,props:z({},Se,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean}),setup(t,{slots:n}){const o=Oe(),{parent:l,index:a}=function(t){const n=c(t,null);if(n){const t=u(),{link:o,unlink:l,internalChildren:a}=n;return o(t),e(()=>l(t)),{parent:n,index:d(()=>a.indexOf(t))}}return{parent:null,index:i(-1)}}(Be),s=d(()=>{if(l){const e=l.children[a.value-1];return!(e&&"isButton"in e)}}),r=d(()=>{if(l){const e=l.children[a.value+1];return!(e&&"isButton"in e)}});return ke({isButton:!0}),()=>{const{type:e,icon:l,text:a,color:i,loading:c,disabled:u}=t;return m(qe,{class:We([e,{last:r.value,first:s.value}]),size:"large",type:e,icon:l,color:i,loading:c,disabled:u,onClick:o},{default:()=>[n.default?n.default():a]})}}})),Ve={show:Boolean,zIndex:N,overlay:D,duration:N,teleport:[String,Object],lockScroll:D,lazyRender:D,beforeClose:Function,overlayProps:Object,overlayStyle:Object,overlayClass:j,transitionAppear:Boolean,closeOnClickOverlay:D},Ze=Object.keys(Ve);let _e=0;const Ge="van-overflow-hidden";function Je(e,n){const l=function(){const e=i(0),t=i(0),n=i(0),o=i(0),l=i(0),a=i(0),s=i(""),r=i(!0),c=()=>{n.value=0,o.value=0,l.value=0,a.value=0,s.value="",r.value=!0};return{move:i=>{const c=i.touches[0];var u,d;n.value=(c.clientX<0?0:c.clientX)-e.value,o.value=c.clientY-t.value,l.value=Math.abs(n.value),a.value=Math.abs(o.value),(!s.value||l.value<10&&a.value<10)&&(s.value=(u=l.value)>(d=a.value)?"horizontal":d>u?"vertical":""),r.value&&(l.value>5||a.value>5)&&(r.value=!1)},start:n=>{c(),e.value=n.touches[0].clientX,t.value=n.touches[0].clientY},reset:c,startX:e,startY:t,deltaX:n,deltaY:o,offsetX:l,offsetY:a,direction:s,isVertical:()=>"vertical"===s.value,isHorizontal:()=>"horizontal"===s.value,isTap:r}}(),a=t=>{l.move(t);const n=l.deltaY.value>0?"10":"01",o=function(e,t=Z){let n=e;for(;n&&n!==t&&_(n);){const{overflowY:e}=window.getComputedStyle(n);if(V.test(e))return n;n=n.parentNode}return t}(t.target,e.value),{scrollHeight:a,offsetHeight:s,scrollTop:r}=o;let i="11";0===r?i=s>=a?"00":"01":r+s>=a&&(i="10"),"11"===i||!l.isVertical()||parseInt(i,2)&parseInt(n,2)||G(t,!0)},s=()=>{document.addEventListener("touchstart",l.start),document.addEventListener("touchmove",a,{passive:!1}),_e||document.body.classList.add(Ge),_e++},r=()=>{_e&&(document.removeEventListener("touchstart",l.start),document.removeEventListener("touchmove",a),_e--,_e||document.body.classList.remove(Ge))},c=()=>n()&&r();W(()=>n()&&s()),t(c),h(c),o(n,e=>{e?s():r()})}function Qe(e){const t=i(!1);return o(e,e=>{e&&(t.value=e)},{immediate:!0}),e=>()=>t.value?e():null}const et=()=>{var e;const{scopeId:t}=(null==(e=u())?void 0:e.vnode)||{};return t?{[t]:""}:null},[tt,nt]=de("overlay");const ot=ye(g({name:tt,inheritAttrs:!1,props:{show:Boolean,zIndex:N,duration:N,className:j,lockScroll:D,lazyRender:D,customStyle:Object,teleport:[String,Object]},setup(e,{attrs:t,slots:n}){const o=i(),l=Qe(()=>e.show||!e.lazyRender)(()=>{var l;const a=z(function(e){const t={};return void 0!==e&&(t.zIndex=+e),t}(e.zIndex),e.customStyle);return A(e.duration)&&(a.animationDuration=`${e.duration}s`),C(m("div",y({ref:o,style:a,class:[nt(),e.className]},t),[null==(l=n.default)?void 0:l.call(n)]),[[B,e.show]])});return K("touchmove",t=>{e.lockScroll&&G(t,!0)},{target:o}),()=>{const t=m(b,{name:"van-fade",appear:!0},{default:l});return e.teleport?m(w,{to:e.teleport},{default:()=>[t]}):t}}})),lt=z({},Ve,{round:Boolean,position:H("center"),closeIcon:H("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:H("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[at,st]=de("popup");const rt=ye(g({name:at,inheritAttrs:!1,props:lt,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:n,attrs:r,slots:c}){let u,p;const v=i(),g=i(),h=Qe(()=>e.show||!e.lazyRender),k=d(()=>{const t={zIndex:v.value};if(A(e.duration)){t["center"===e.position?"animationDuration":"transitionDuration"]=`${e.duration}s`}return t}),S=()=>{u||(u=!0,v.value=void 0!==e.zIndex?+e.zIndex:++Ae,n("open"))},O=()=>{u&&ge(e.beforeClose,{done(){u=!1,n("close"),n("update:show",!1)}})},T=t=>{n("clickOverlay",t),e.closeOnClickOverlay&&O()},P=()=>{if(e.overlay){const t=z({show:e.show,class:e.overlayClass,zIndex:v.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},e.overlayProps);return m(ot,y(t,et(),{onClick:T}),{default:c["overlay-content"]})}},I=e=>{n("clickCloseIcon",e),O()},$=()=>{if(e.closeable)return m(Ne,{role:"button",tabindex:0,name:e.closeIcon,class:[st("close-icon",e.closeIconPosition),"van-haptics-feedback"],classPrefix:e.iconPrefix,onClick:I},null)};let E;const L=()=>{E&&clearTimeout(E),E=setTimeout(()=>{n("opened")})},j=()=>n("closed"),N=e=>n("keydown",e),D=h(()=>{var t;const{destroyOnClose:n,round:o,position:l,safeAreaInsetTop:a,safeAreaInsetBottom:s,show:i}=e;if(i||!n)return C(m("div",y({ref:g,style:k.value,role:"dialog",tabindex:0,class:[st({round:o,[l]:l}),{"van-safe-area-top":a,"van-safe-area-bottom":s}],onKeydown:N},r,et()),[null==(t=c.default)?void 0:t.call(c),$()]),[[B,i]])}),H=()=>{const{position:t,transition:n,transitionAppear:o}=e;return m(b,{name:n||("center"===t?"van-fade":`van-popup-slide-${t}`),appear:o,onAfterEnter:L,onAfterLeave:j},{default:D})};return o(()=>e.show,e=>{e&&!u&&(S(),0===r.tabindex&&a(()=>{var e;null==(e=g.value)||e.focus()})),!e&&u&&(u=!1,n("close"))}),ke({popupRef:g}),Je(g,()=>e.show&&e.lockScroll),K("popstate",()=>{e.closeOnPopstate&&(O(),p=!1)}),l(()=>{e.show&&S()}),s(()=>{p&&(n("update:show",!0),p=!1)}),t(()=>{e.show&&e.teleport&&(O(),p=!0)}),f(he,()=>e.show),()=>e.teleport?m(w,{to:e.teleport},{default:()=>[P(),H()]}):m(x,null,[P(),H()])}}));let it=0;const[ct,ut]=de("toast"),dt=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"];var pt,ft=g({name:ct,props:{icon:String,show:Boolean,type:H("text"),overlay:Boolean,message:N,iconSize:N,duration:(pt=2e3,{type:Number,default:pt}),position:H("middle"),teleport:[String,Object],wordBreak:String,className:j,iconPrefix:String,transition:H("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:j,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:N},emits:["update:show"],setup(t,{emit:n,slots:a}){let s,r=!1;const i=()=>{const e=t.show&&t.forbidClick;r!==e&&(r=e,r?(it||document.body.classList.add("van-toast--unclickable"),it++):it&&(it--,it||document.body.classList.remove("van-toast--unclickable")))},c=e=>n("update:show",e),u=()=>{t.closeOnClick&&c(!1)},d=()=>clearTimeout(s),p=()=>{const{icon:e,type:n,iconSize:o,iconPrefix:l,loadingType:a}=t;return e||"success"===n||"fail"===n?m(Ne,{name:e||n,size:o,class:ut("icon"),classPrefix:l},null):"loading"===n?m(Me,{class:ut("loading"),size:o,type:a},null):void 0},f=()=>{const{type:e,message:n}=t;return a.message?m("div",{class:ut("text")},[a.message()]):A(n)&&""!==n?"html"===e?m("div",{key:0,class:ut("text"),innerHTML:String(n)},null):m("div",{class:ut("text")},[n]):void 0};return o(()=>[t.show,t.forbidClick],i),o(()=>[t.show,t.type,t.message,t.duration],()=>{d(),t.show&&t.duration>0&&(s=setTimeout(()=>{c(!1)},t.duration))}),l(i),e(i),()=>m(rt,y({class:[ut([t.position,"normal"===t.wordBreak?"break-normal":t.wordBreak,{[t.type]:!t.icon}]),t.className],lockScroll:!1,onClick:u,onClosed:d,"onUpdate:show":c},L(t,dt)),{default:()=>[p(),f()]})}});function vt(){const e=p({show:!1}),t=t=>{e.show=t},n=n=>{z(e,n,{transitionAppear:!0}),t(!0)},o=()=>t(!1);return ke({open:n,close:o,toggle:t}),{open:n,close:o,state:e,toggle:t}}function mt(e){const t=k(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}let gt=[],yt=z({},{icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1});const ht=new Map;function bt(){if(!gt.length){const e=function(){const{instance:e}=mt({setup(){const e=i(""),{open:t,state:n,close:l,toggle:a}=vt(),s=()=>{};return o(e,e=>{n.message=e}),u().render=()=>m(ft,y(n,{onClosed:s,"onUpdate:show":a}),null),{open:t,close:l,message:e}}});return e}();gt.push(e)}return gt[gt.length-1]}function wt(e={}){if(!T)return{};const t=bt(),n=P(o=e)?o:{message:o};var o;return t.open(z({},yt,ht.get(n.type||yt.type),n)),t}const[Ct,Bt,xt]=de("dialog"),kt=z({},Ve,{title:String,theme:String,width:N,message:[String,Function],callback:Function,allowHtml:Boolean,className:j,transition:H("van-dialog-bounce"),messageAlign:String,closeOnPopstate:D,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:D,closeOnClickOverlay:Boolean,keyboardEnabled:D,destroyOnClose:Boolean}),St=[...Ze,"transition","closeOnPopstate","destroyOnClose"];var Ot=g({name:Ct,props:kt,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:t,slots:n}){const o=i(),l=p({confirm:!1,cancel:!1}),a=e=>t("update:show",e),s=t=>{var n;a(!1),null==(n=e.callback)||n.call(e,t)},r=n=>()=>{e.show&&(t(n),e.beforeClose?(l[n]=!0,ge(e.beforeClose,{args:[n],done(){s(n),l[n]=!1},canceled(){l[n]=!1}})):s(n))},c=r("cancel"),u=r("confirm"),d=S(n=>{var l,a;if(!e.keyboardEnabled)return;if(n.target!==(null==(a=null==(l=o.value)?void 0:l.popupRef)?void 0:a.value))return;({Enter:e.showConfirmButton?u:O,Escape:e.showCancelButton?c:O})[n.key](),t("keydown",n)},["enter","esc"]),f=()=>{const t=n.title?n.title():e.title;if(t)return m("div",{class:Bt("header",{isolated:!e.message&&!n.default})},[t])},v=t=>{const{message:n,allowHtml:o,messageAlign:l}=e,a=Bt("message",{"has-title":t,[l]:l}),s=I(n)?n():n;return o&&"string"==typeof s?m("div",{class:a,innerHTML:s},null):m("div",{class:a},[s])},g=()=>{if(n.default)return m("div",{class:Bt("content")},[n.default()]);const{title:t,message:o,allowHtml:l}=e;if(o){const e=!(!t&&!n.title);return m("div",{key:l?1:0,class:Bt("content",{isolated:!e})},[v(e)])}},h=()=>n.footer?n.footer():"round-button"===e.theme?m(xe,{class:Bt("footer")},{default:()=>[e.showCancelButton&&m(Ke,{type:"warning",text:e.cancelButtonText||xt("cancel"),class:Bt("cancel"),color:e.cancelButtonColor,loading:l.cancel,disabled:e.cancelButtonDisabled,onClick:c},null),e.showConfirmButton&&m(Ke,{type:"danger",text:e.confirmButtonText||xt("confirm"),class:Bt("confirm"),color:e.confirmButtonColor,loading:l.confirm,disabled:e.confirmButtonDisabled,onClick:u},null)]}):m("div",{class:[fe,Bt("footer")]},[e.showCancelButton&&m(qe,{size:"large",text:e.cancelButtonText||xt("cancel"),class:Bt("cancel"),style:{color:e.cancelButtonColor},loading:l.cancel,disabled:e.cancelButtonDisabled,onClick:c},null),e.showConfirmButton&&m(qe,{size:"large",text:e.confirmButtonText||xt("confirm"),class:[Bt("confirm"),{[ve]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:l.confirm,disabled:e.confirmButtonDisabled,onClick:u},null)]);return()=>{const{width:t,title:n,theme:l,message:s,className:r}=e;return m(rt,y({ref:o,role:"dialog",class:[Bt([l]),r],style:{width:ee(t)},tabindex:0,"aria-labelledby":n||s,onKeydown:d,"onUpdate:show":a},L(e,St)),{default:()=>[f(),g(),h()]})}}});let zt;let Tt=z({},{title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1,destroyOnClose:!1});function Pt(e){return T?new Promise((t,n)=>{zt||function(){const e={setup(){const{state:e,toggle:t}=vt();return()=>m(Ot,y(e,{"onUpdate:show":t}),null)}};({instance:zt}=mt(e))}(),zt.open(z({},Tt,e,{callback:e=>{("confirm"===e?t:n)(e)}}))}):Promise.resolve(void 0)}ye(Ot);export{qe as B,Ne as I,Pt as a,wt as s};
