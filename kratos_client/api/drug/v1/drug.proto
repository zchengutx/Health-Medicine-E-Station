syntax = "proto3";

package drug.v1;

import "google/api/annotations.proto";

option go_package = "kratos_client/api/drug/v1;v1";
option java_multiple_files = true;
option java_package = "dev.kratos.api.drug.v1";
option java_outer_classname = "drugProtoV1";

service Drug {
	rpc GetDrug (GetDrugRequest) returns (GetDrugReply) {
		option (google.api.http) = {
			post: "/v1/drug"
			body: "*"
		};
	}
	rpc ListDrug (ListDrugRequest) returns (ListDrugReply){
		option (google.api.http) = {
			post: "/v1/drug/list"
			body: "*"
		};
	}
	rpc GetExplain (GetExplainRequest) returns (GetExplainReply){
		option (google.api.http) = {
			post: "/v1/drug/explain"
			body: "*"
		};
	}
	rpc GetGuide (GetGuideRequest) returns (GetGuideReply){
		option (google.api.http) = {
			post: "/v1/drug/guide"
			body: "*"
		};
	}
}

message GetDrugRequest {
	int64 id = 1;
}

message GetDrugReply {
	int64 code = 1;
	string msg = 2;
	InfoDrug drug = 3;
}
message InfoDrug {
	string drug_name = 1;
	string specification = 2;
	double price = 3;
	double sales_volume = 4;
	int64 inventory = 5;
	string exhibition_url = 6;
	GuideInfo guide = 7;
}
message  GuideInfo {
	string major_function = 1;
	string usage_and_dosage = 2;
	string taboos = 3;
	string special_crowd = 4;
	string condition = 5;
}

message GetExplainRequest {
	int64 id = 1;
}

message GetExplainReply {
	int64 code = 1;
	string msg = 2;
	ExplainInfo explain = 3;
}
message ExplainInfo {
	string common_name = 1;
	string goods_name = 2;
	string component = 3;
	string taboos = 4;
	string function = 5;
	string usage_and_dosage = 7;
	string character = 8;
	string packaging_specification = 9;
	string badness_reaction = 10;
	string condition = 11;
	string valid_time = 12;
	string notice = 13;
	string interaction = 14;
	string ratify_number = 15;
	string manufacturer = 16;
	string standard_number = 17;
	string possessor = 18;
	string address = 19;
	string specification = 20;
	string dosage_form = 21;
}

message ListDrugRequest {
	int64 frist_category_id = 1;
	int64 second_category_id = 2;
	string keyword = 3;
}

message ListDrugReply {
	int64 code = 1;
	string msg = 2;
	repeated InfoDrugs drug = 3;
}
message InfoDrugs {
	string drug_name = 1;
	string specification = 2;
	double price = 3;
	double sales_volume = 4;
	int64 inventory = 5;
	string exhibition_url = 6;
}

message GetGuideRequest {
	int64 id = 1;
}

message GetGuideReply {
	int64 code = 1;
	string msg = 2;
	GuideInfo guide = 3;
}