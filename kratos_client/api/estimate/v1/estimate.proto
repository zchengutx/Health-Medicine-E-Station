syntax = "proto3";

import "google/api/annotations.proto";

option go_package = "kratos_client/api/estimate/v1;v1";
option java_multiple_files = true;
option java_package = "dev.kratos.api.estimate.v1";
option java_outer_classname = "estimateProtoV1";

service Estimate {
	rpc CreateEstimate (CreateEstimateRequest) returns (CreateEstimateReply){
		option (google.api.http) = {
			post: "/v1/create/estimate"
			body: "*"
		};
	};
	rpc DeleteEstimate (DeleteEstimateRequest) returns (DeleteEstimateReply){
		option (google.api.http) = {
			post: "/v1/delete/estimate"
			body: "*"
		};
	};
	rpc GetEstimate (GetEstimateRequest) returns (GetEstimateReply){
		option (google.api.http) = {
			post: "/v1/get/estimate"
			body: "*"
		};
	};
	rpc ListDrugEstimate (ListDrugEstimateRequest) returns (ListDrugEstimateReply){
		option (google.api.http) = {
			post: "/v1/list/estimate"
			body: "*"
		};
	};
}

message CreateEstimateRequest {
	int64 drugId = 1;
	int64 userId = 2;
	string content = 3;
	string image = 4;
}
message CreateEstimateReply {
	int64 code = 1;
	string message = 2;
}

message DeleteEstimateRequest {
	int64 id = 1;
}
message DeleteEstimateReply {
	int64 code = 1;
	string message = 2;
}

message GetEstimateRequest {
	int64 id = 1;
	int64 userId = 2;
}
message GetEstimateReply {
	int64 code = 1;
	string message = 2;
	EstimateInfo info = 3;
}
message EstimateInfo {
	int64 drugId = 1;
	string content = 2;
	string image = 3;
	string mobile = 4;
	string createTime = 5;
	string avatar = 6;
}

message ListDrugEstimateRequest {
	int64 drugId = 1;
	int64 userId = 2;
}
message ListDrugEstimateReply {
	int64 code = 1;
	string message = 2;
	InfoDrugs info = 3;
	repeated EstimateInfo list = 4;
}
message InfoDrugs {
	string drug_name = 1;
	string specification = 2;
	double price = 3;
	double sales_volume = 4;
	int64 inventory = 5;
	string exhibition_url = 6;
}