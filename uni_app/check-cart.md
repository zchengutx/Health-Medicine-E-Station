# 购物车问题排查指南

## 🔍 问题排查步骤

### 1. 清除浏览器缓存
```
按 Ctrl + F5 (强制刷新)
或
按 F12 → 右键刷新按钮 → "清空缓存并硬性重新加载"
```

### 2. 检查控制台错误
```
按 F12 打开开发者工具
查看 Console 标签是否有红色错误信息
查看 Network 标签是否有API请求
```

### 3. 测试API连接
```
打开: http://localhost:3000/debug-cart.html
点击 "测试购物车API" 按钮
查看是否能正常获取数据
```

### 4. 检查后端服务
```
确认后端服务运行在 localhost:8888
可以直接访问: http://localhost:8888
```

### 5. 手动测试API
```
使用 Postman 或 curl 测试:

POST http://localhost:8888/v1/cart/list
Content-Type: application/json

{
  "user_id": 1
}
```

## 🐛 常见问题

### 1. 页面没有变化
- **原因**: 浏览器缓存了旧版本
- **解决**: 按 Ctrl + F5 强制刷新

### 2. 控制台报错 "CORS error"
- **原因**: 跨域问题
- **解决**: 检查后端是否开启了CORS支持

### 3. 控制台报错 "fetch failed"
- **原因**: 后端服务没有运行
- **解决**: 启动后端服务

### 4. API返回空数据
- **原因**: 购物车确实为空
- **解决**: 先添加一些商品到购物车

## 📋 当前应该看到的效果

购物车页面应该显示:
- ✅ 商品名称 (如: OTC[仁和]莲香正气胶囊)
- ✅ 规格信息 (如: 0.3g×12粒×2板)  
- ✅ 价格信息 (如: ¥15.6)
- ✅ 库存数量 (如: 库存: 104件)
- ✅ 数量控制按钮 (+ - 按钮)
- ✅ 删除按钮

## 🛠️ 如果仍有问题

1. 请先访问 debug-cart.html 测试API
2. 检查浏览器控制台的完整错误信息
3. 确认后端服务正常运行
4. 尝试清除所有浏览器缓存
